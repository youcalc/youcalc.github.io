{"version":3,"sources":["app.ts"],"names":[],"mappings":";;AAAA,4BAAyB;AACzB,6BAA8B;AAC9B,iCAA+B;AAC/B,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE;IAC5C,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;IAC/C,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QACZ,OAAO,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAA;QACnC,MAAM,CAAA;IACR,CAAC;IACD,IAAM,KAAK,GAAG,IAAI,aAAK,CAAC,MAAM,CAAC,CAAA;IAC/B,KAAK,CAAC,MAAM,EAAE,CAAA;IAEd,EAAE,CAAC,CAAC,CAAC,CAAC,eAAe,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC;QACpC,IAAM,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAC9C,4BAA4B,CAC7B,CAAA;QACD,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;YACtB,iBAAiB,CAAC,YAAY,CAAC,UAAU,EAAE,UAAU,CAAC,CAAA;QACxD,CAAC;IACH,CAAC;IAED,IAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAA;IAClE,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;QAChB,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE;YACpC,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAA;YAC/C,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,IAAM,aAAa,GAEjB,QAAQ,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,CAAA;gBAClD,IAAI,UAAU,GAAG,IAAI,CAAA;gBACrB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9C,UAAU,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAA;oBACrE,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;wBACf,KAAK,CAAA;oBACP,CAAC;gBACH,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;oBAChB,UAAU,GAAG,YAAY,CAAA;gBAC3B,CAAC;gBACD,EAAE,CAAC,CAAC,UAAU,KAAK,eAAe,CAAC,CAAC,CAAC;oBACnC,IAAI,CAAC,eAAe,EAAE,CAAA;gBACxB,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAU,KAAK,cAAc,CAAC,CAAC,CAAC;oBACzC,IAAI,CAAC,cAAc,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAA;gBAC5C,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAU,KAAK,YAAY,CAAC,CAAC,CAAC;oBACvC,IAAI,CAAC,eAAe,EAAE,CAAA;gBACxB,CAAC;gBAED,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAA;gBAClC,OAAO,CAAC,gBAAgB,CAAC,eAAe,EAAE;oBACxC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;gBACjC,CAAC,CAAC,CAAA;YACJ,CAAC;QACH,CAAC,CAAC,CAAA;IACJ,CAAC;AACH,CAAC,CAAC,CAAA","file":"app.js","sourcesContent":["import 'es6-promise/auto'\r\nimport * as Game from './game'\r\nimport { Board } from './board'\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const canvas = document.querySelector('canvas')\r\n  if (!canvas) {\r\n    console.error('Canvas DOM is null')\r\n    return\r\n  }\r\n  const board = new Board(canvas)\r\n  board.render()\r\n\r\n  if (!('publishServer' in navigator)) {\r\n    const flywebOptionInput = document.querySelector(\r\n      '.mode-chooser-input-flyweb'\r\n    )\r\n    if (flywebOptionInput) {\r\n      flywebOptionInput.setAttribute('disabled', 'disabled')\r\n    }\r\n  }\r\n\r\n  const modeChooser = document.querySelector('.mode-chooser-submit')\r\n  if (modeChooser) {\r\n    modeChooser.addEventListener('click', () => {\r\n      const modeDOM = document.querySelector('.mode')\r\n      if (modeDOM) {\r\n        const modeInputDOMs = <NodeListOf<\r\n          HTMLInputElement\r\n        >>document.querySelectorAll('.mode-chooser-input')\r\n        let chosenMode = null\r\n        for (let i = 0; i < modeInputDOMs.length; i++) {\r\n          chosenMode = modeInputDOMs[i].checked ? modeInputDOMs[i].value : null\r\n          if (chosenMode) {\r\n            break\r\n          }\r\n        }\r\n        if (!chosenMode) {\r\n          chosenMode = 'offline-ai'\r\n        }\r\n        if (chosenMode === 'offline-human') {\r\n          Game.initGameLocal2p()\r\n        } else if (chosenMode === 'local-flyweb') {\r\n          Game.initGameFlyweb({ clientMode: false })\r\n        } else if (chosenMode === 'offline-ai') {\r\n          Game.initGameLocalAi()\r\n        }\r\n\r\n        modeDOM.classList.add('invisible')\r\n        modeDOM.addEventListener('transitionend', () => {\r\n          modeDOM.classList.add('hidden')\r\n        })\r\n      }\r\n    })\r\n  }\r\n})\r\n"]}